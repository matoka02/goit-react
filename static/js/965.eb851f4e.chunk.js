"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[965],{965:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(439),a=n(791),s=function(e){return fetch("".concat("https://newsapi.org/v2","/everything?q=").concat(e),{headers:{"X-Api-Key":"3e39cf3d7d364cc99301db7d83629f13"}})},c=n(184),l=function(e){var t=e.children;return(0,c.jsx)("div",{className:"card bg-danger",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h5",{className:"card-title",children:"Error"}),(0,c.jsx)("p",{className:"card-text",children:t})]})})},i=n(715),u="idle",h="resolved",o="rejected",d="pending",f=function(e){var t=e.searchText,n=(0,i.a)(),f=n.news,m=n.setNews,p=(0,a.useState)(""),v=(0,r.Z)(p,2),x=v[0],j=v[1],g=(0,a.useState)(u),b=(0,r.Z)(g,2),S=b[0],y=b[1];return(0,a.useEffect)((function(){f&&y(h)}),[f]),(0,a.useEffect)((function(){t&&(y(d),s(t).then((function(e){return e.json()})).then((function(e){if(console.log(e),"ok"!==e.status)return Promise.reject(e.message);m(e.articles),y(h)})).catch((function(e){j(e),y(o)})))}),[t,m]),S===d?(0,c.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,c.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):S===h?(0,c.jsx)("ul",{children:f.map((function(e){return(0,c.jsx)("li",{children:e.title},e.url)}))}):S===o?(0,c.jsx)(l,{children:x}):void 0},m=n(671),p=n(144),v=n(136),x=n(104),j=function(e){(0,v.Z)(n,e);var t=(0,x.Z)(n);function n(){var e;(0,m.Z)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={value:""},e.handleChange=function(t){var n=t.target.value;e.setState({value:n})},e.handleSubmit=function(t){t.preventDefault(),e.props.handleSearch(e.state.value)},e}return(0,p.Z)(n,[{key:"render",value:function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("form",{className:"d-flex mt-2",role:"search",onSubmit:this.handleSubmit,children:[(0,c.jsx)("input",{className:"form-control me-2 ",type:"search",placeholder:"Search","aria-label":"Search",onChange:this.handleChange,value:this.state.value}),(0,c.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})})}}]),n}(a.Component),g=j,b=function(){var e=(0,a.useState)(""),t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g,{handleSearch:function(e){s(e)}}),(0,c.jsx)(f,{searchText:n})]})}}}]);
//# sourceMappingURL=965.eb851f4e.chunk.js.map