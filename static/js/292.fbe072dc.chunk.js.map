{"version":3,"file":"static/js/292.fbe072dc.chunk.js","mappings":"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","sources":["servises/getNews.js","components-05-010/ErrorCard.jsx","components-05-010/Context.jsx","components-05-010/ContentInfo.jsx","components-05-010/Search.jsx","components-06-012/pages/NewsPage.jsx"],"sourcesContent":["const BASE_URL = 'https://newsapi.org/v2';\nconst API_KEY = '3e39cf3d7d364cc99301db7d83629f13';\n\nconst getNews = (searchText) => {\n  // fetch(`${BASE_URL}/everything?q=${searchText}`, {\n  //   headers: {\n  //     'X-Api-Key': API_KEY,\n  //   },\n  // })\n  //   .then((resp) => resp.json())\n  //   .then((news) => console.log(news));\n  \n  return fetch(`${BASE_URL}/everything?q=${searchText}`, {\n    headers: {\n      'X-Api-Key': API_KEY,\n    },\n  })\n};\n\nexport default getNews;\n","import React from 'react'\n\nconst ErrorCard = ({ children }) => {\n\treturn (\n\t\t<div className='card bg-danger'>\n\t\t\t<div className='card-body'>\n\t\t\t\t<h5 className='card-title'>Error</h5>\n\t\t\t\t<p className='card-text'>{children}</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n};\n\nexport default ErrorCard;","import React, { useContext, useState } from 'react';\n\nconst ContextAlert = React.createContext();\n\nexport const useCustomContext = () => {\n  return useContext(ContextAlert);\n};\n\nconst Context = ({ children }) => {\n  const [toggleAlert, setToggleAlert] = useState(false);\n\n  // const [news, setNews] = useState([]);\n  const [news, setNews] = useState(null);\n  \n  return (\n    <ContextAlert.Provider\n      value={{\n        toggleValue: toggleAlert,\n        toggle: setToggleAlert,\n        news: news,\n        setNews: setNews,\n      }}\n    >\n      {children}\n    </ContextAlert.Provider>\n  );\n};\n\nexport default Context;\n","// import { Component } from 'react';\nimport getNews from 'servises/getNews';\nimport ErrorCard from './ErrorCard';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useCustomContext } from './Context';\n\nconst STATUS = {\n  IDLE: 'idle',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  PENDING: 'pending',\n};\n\nconst ContentInfo = ({ searchText }) => {\n  const { news, setNews } = useCustomContext()\n  // const [news, setNews] = useState(null);\n  const [error, setError] = useState('');\n  const [status, setStatus] = useState(STATUS.IDLE);\n\n  useEffect(()=>{\n    news&&setStatus(STATUS.RESOLVED)\n  }, [news]);\n\n  useEffect(() => {\n    if (!searchText) {\n      return;\n    }\n    setStatus(STATUS.PENDING);\n    getNews(searchText)\n      .then(resp => resp.json()) // любой ответ от этого сервиса приходит в формате json\n      .then(data => {\n        console.log(data);\n        if (data.status === 'ok') {\n          setNews(data.articles);\n          setStatus(STATUS.RESOLVED);\n        } else return Promise.reject(data.message);\n      })\n      .catch(error => {\n        // console.error(error);\n        setError(error);\n        setStatus(STATUS.REJECTED);\n      });\n  }, [searchText, setNews]);\n\n  if (status === STATUS.PENDING) {\n    return (\n      <div className=\"spinner-border text-primary\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    );\n  } else if (status === STATUS.RESOLVED) {\n    return (\n      <ul>\n        {news.map(el => {\n          return <li key={el.url}>{el.title}</li>;\n        })}\n      </ul>\n      // сюда можно добавить кнопку load more\n    );\n  } else if (status === STATUS.REJECTED) {\n    return <ErrorCard>{error}</ErrorCard>;\n  }\n};\n\n// class ContentInfo extends Component {\n//   state = {\n//     news: null,\n//     // isLoading: false,\n//     error: '',\n//     status: STATUS.IDLE,\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     console.log(this.props);\n//     if (prevProps.searchText !== this.props.searchText) {\n//       // this.setState({ isLoading: true });\n//       this.setState({ status: STATUS.PENDING });\n//       getNews(this.props.searchText)\n//         .then(resp => resp.json()) // любой ответ от этого сервиса приходит в формате json\n//         .then(data => {\n//           console.log(data);\n//           if (data.status === 'ok') {\n//             this.setState({ news: data.articles, status: STATUS.RESOLVED });\n//           } else return Promise.reject(data.message);\n//         })\n//         .catch(error => {\n//           console.error(error);\n//           this.setState({ error, status: STATUS.REJECTED });\n//         })\n//     }\n//   }\n\n//   render() {\n\n//     const { news, error } = this.state;\n\n//     if (this.state.status === STATUS.PENDING ) {\n//       return (\n//         <div className=\"spinner-border text-primary\" role=\"status\">\n//           <span className=\"visually-hidden\">Loading...</span>\n//         </div>\n//       )\n//     } else if (this.state.status === STATUS.RESOLVED ) {\n//       return (\n//         <ul>\n//           {news.map(el => {\n//             return <li key={el.url}>{el.title}</li>;\n//           })}\n//         </ul>\n//         // сюда можно добавить кнопку load more\n//       );\n//     } else if (this.state.status === STATUS.REJECTED ) {\n//       return <ErrorCard>{error}</ErrorCard>;\n//     }\n//   }\n// }\n\nexport default ContentInfo;\n","import { Component } from \"react\"\n\nclass Search extends Component {\n  state= {\n    value: '',\n  };\n\n  handleChange = (e) => {\n\t\tconst { target } = e\n\t\tconst { value } = target\n\t\tthis.setState({ value })\n\t};\n\n  handleSubmit=(evt)=>{\n    evt.preventDefault();\n    // console.log(this.state);\n    this.props.handleSearch(this.state.value)\n  };\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<form\n\t\t\t\t\tclassName='d-flex mt-2'\n\t\t\t\t\trole='search'\n\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='form-control me-2 '\n\t\t\t\t\t\ttype='search'\n\t\t\t\t\t\tplaceholder='Search'\n\t\t\t\t\t\taria-label='Search'\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className='btn btn-outline-success' type='submit'>\n\t\t\t\t\t\tSearch\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</>\n\t\t)\n\t}\n}\n\nexport default Search;","import { useState } from \"react\";\n\nimport ContentInfo from \"components-05-010/ContentInfo\";\nimport Search from \"components-05-010/Search\";\n\nconst NewsPage = () => {\n  const [searchText, setSearchText] = useState('');\n\n  const handleSearch = searchText => {\n    setSearchText(searchText);\n  };\n\n  return (\n    <>\n      <Search handleSearch={handleSearch} />\n      <ContentInfo searchText={searchText} />\n    </>\n  );\n};\n\nexport default NewsPage;\n"],"names":["searchText","fetch","concat","headers","_ref","children","_jsx","className","_jsxs","ContextAlert","React","STATUS","_useCustomContext","useContext","news","setNews","_useState","useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","status","setStatus","useEffect","getNews","then","resp","json","data","console","log","Promise","reject","message","articles","catch","role","map","el","title","url","ErrorCard","Search","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","state","value","handleChange","e","target","setState","handleSubmit","evt","preventDefault","props","handleSearch","_createClass","key","_Fragment","onSubmit","this","type","placeholder","onChange","Component","setSearchText","ContentInfo"],"sourceRoot":""}